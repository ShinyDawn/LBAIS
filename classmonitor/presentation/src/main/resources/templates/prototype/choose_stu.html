<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	
	<link th:href="@{css/theme.css}" rel="stylesheet" />
	<link th:href="@{css/bootstrap.css}" rel="stylesheet" />
	<link th:href="@{bootstrap/css/bootstrap.min.css}" rel="stylesheet" />
  	<link th:href="@{bootstrap/css/bootstrap-responsive.min.css}" rel="stylesheet" />
	<link th:href="@{js/choose_stu/css/jquery-labelauty.css}" rel="stylesheet" />
	
	<title>选择学生</title>
	<style>
		ul {
			width:500px;
			list-style-type: none;
			margin: 10px 5px;
		}
		li { 
			width:100px;
			display: inline-block;
			margin: 0px 0;
		}
		input.labelauty,label { 
			font: 8px "Microsoft Yahei";
		}
	</style>
</head>
<body>

<div>
<button id="student" style="display:inline-block;margin:10px 10px 0px 0px; width:200px;text-align:left;
	border:1px solid #cccccc;background-color:#fff;height:30px" background-image="" onclick="choose_stu(this)">
	学生
</button>
<select id="behavior" style='display:inline-block;margin:10px 10px 0px 0px'>
	<option value="" style="display:none;">请选择行为</option>
	<option value="1">迟到</option>
	<option value="2">游荡</option>
	<option value="3">睡觉</option>
	<option value="4">缺席</option>
	<option value="5">早退</option>
</select>
<div id="choose_div" style="border:1px solid #000; width:500px;display:none">
	<ul id="choose" class="dowebok">
		<li><input type="checkbox" name="checkbox" data-labelauty="蔡晓丁"></input></li>
		<li><input type="checkbox" name="checkbox" data-labelauty="张晓梅"></input></li>
		<li><input type="checkbox" name="checkbox" data-labelauty="李晓亮"></input></li>
		<li><input type="checkbox" name="checkbox" data-labelauty="何西"></input></li>
		<li><input type="checkbox" name="checkbox" data-labelauty="朱晓楠"></input></li>
		<li><input type="checkbox" name="checkbox" data-labelauty="王小山"></input></li>
		<li><input type="checkbox" name="checkbox" data-labelauty="宋潇"></input></li>
	</ul>
	<div style = "text-align:right; margin:15px 0px 0px 0px">
		<button id="confirm" class="btn btn-default" style="margin:0px 10px 10px;" onclick="stu_confirm(this)">&nbsp;&nbsp;确定&nbsp;&nbsp;</button>
	</div>
</div>
</div>

<script th:src="@{scripts/jquery-1.9.1.min.js}" type="text/javascript"></script>
<script th:src="@{js/choose_stu/js/jquery-labelauty.js}" type="text/javascript"></script>
<script>

	$(function(){
	//	document.cookie.beha=0;
		document.getElementById('choose').innerHTML = "";
		var sid=new Array(1,2,3,4,5,6,7,8);
		var name=new Array('蔡晓丁','张晓梅','李晓亮','何晓西','朱晓楠','王晓山','宋晓军','周晓宁');
		/* <![CDATA[ */
		for(var i=0;i<sid.length;i++){
			var add_li="<li><input id='student"+sid[i]+"' type='checkbox' name='checkbox' data-labelauty='"+name[i]+"' value='"+name[i]+"'></input></li>";
			$("#choose").append(add_li);
		}
		 /* ]]> */

		$(':input').labelauty();
	});


	function choose_stu(button){
		document.getElementById('choose_div').style.display="";
		//var list=button.parentNode.childNodes;
		//var choose=button.parentNode.childNodes[7];
		//alert(choose.id);
		//choose.style.display="";
		}

	function stu_confirm(button){
		var test = $("input[name='checkbox']:checked");
        var checkBoxValue = ""; 

        /* <![CDATA[ */
		for(var i=0;i<test.length;i++){
			checkBoxValue=checkBoxValue+test[i].getAttribute("value")+",";
			}
		/* ]]> */
        
        checkBoxValue = checkBoxValue.substring(0,checkBoxValue.length-1); 
        alert(checkBoxValue);
        $("#student").text(checkBoxValue);
        //document.getElementById("student").value=checkBoxValue;
        document.getElementById('choose_div').style.display="none";
		}
</script>

</body>
</html>